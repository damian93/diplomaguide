<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:p="http://primefaces.org/ui"
                template="./templates/template.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">#{msg['registration']}</ui:define>
    <ui:define name="path"><a href="/index.xhtml?faces-redirect=true">#{msg.mainPage}</a> >> <a href="register.xhtml?faces-redirect=true">#{msg.registration}</a></ui:define>
    <ui:define name="content">
        <h:form id="registerForm">    
            <p:message id="registerExs" showSummary="true" showDetail="true" for="registerForm"/>
            <p:panelGrid>
                <p:row>
                    <p:column>
                        <p:outputLabel for="registerLogin" value="#{msg['loginReg']}"/>
                    </p:column>
                    <p:column>
                        <p:inputText  id="registerLogin" required="true" value="#{registerBackingBean.user.login}" >
                            <p:ajax event="blur" update="registerLogin, registerLoginMessage"/>
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message id="registerLoginMessage" for="registerLogin"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="registerEmail" value="#{msg['emailReg']}"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="registerEmail" required="true" value="#{registerBackingBean.user.email}">
                               <p:ajax event="blur" update="registerEmail, registerEmailMessage"/>
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message id="registerEmailMessage" for="registerEmail"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="registerName" value="#{msg['nameReg']}"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="registerName" required="true" value="#{registerBackingBean.user.name}">
                            <p:ajax event="blur" update="registerName, registerNameMessage"/>
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message id="registerNameMessage" for="registerName"/>
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="registerSurname" value="#{msg['surnameReg']}"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="registerSurname" required="true" value="#{registerBackingBean.user.surname}">
                            <p:ajax event="blur" update="registerSurname, registerSurnameMessage"/>
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message id="registerSurnameMessage" for="registerSurname"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="registerPassword" value="#{msg['passwordReg']}"/>
                    </p:column>
                    <p:column>
                        <p:password id="registerPassword" match="registerPassword2" required="true"  value="#{registerBackingBean.user.password}" feedback="true" promptLabel="#{msg['promptPasswortReg']}" weakLabel="#{msg['weakPasswordReg']}" goodLabel="#{msg['goodPasswordReg']}" strongLabel="#{msg['strongPasswordReg']}">
                        </p:password>
                    </p:column>
                    <p:column>
                        <p:message id="registerPasswordMessage" for="registerPassword"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="registerPassword2" value="#{msg['password2Reg']}"/>
                    </p:column>
                    <p:column>
                        <p:password id="registerPassword2"  required="true">
                        </p:password>
                    </p:column>
                    <p:column>
                        <p:message id="registerPassword2Message" for="registerPassword2"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:outputLabel for="registerDate" value="#{msg['regDate']}"/>
                    </p:column>
                    <p:column>
                        <p:calendar id="registerDate"  pattern="MM/dd/yyyy HH:mm:ss" value="#{registerBackingBean.user.dateoOfBirth}" />
                    </p:column>
                    <p:column>
                        <p:message for="registerDate"/>
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel  value="#{msg['workerReg']}"/>
                    </p:column>
                    <p:column colspan="2">
                        <p:selectOneMenu id="type" value="#{registerBackingBean.type}" required="true" requiredMessage="TU powinna byc internacjonalizacja"  style="width:150px">                          
                            <f:selectItems itemLabel="#{item}" var="item" value="#{registerBackingBean.accessLevelList}"  />
                        </p:selectOneMenu>
                    </p:column>
                     <p:column>
                         <p:message for="type"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column colspan="3">
                        <p:commandButton id="registerButton" value="#{msg['register']}" ajax="false" type="submit" update=":registerForm" action="#{registerBackingBean.registerUser()}" icon="ui-icon-check"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
